// ============================================
// 認證模組 - OTP 驗證碼
// ============================================

// OTP 驗證碼
model Otp {
  id String @id @default(cuid())

  phone   String // 電話號碼
  code    String // 6 位數驗證碼
  purpose OtpPurpose // 用途：註冊、重設密碼

  // 狀態
  verified  Boolean  @default(false) // 是否已驗證
  attempts  Int      @default(0) // 嘗試次數
  expiresAt DateTime // 過期時間

  createdAt DateTime @default(now())

  @@index([phone, purpose])
  @@index([expiresAt])
  @@map("otps")
}
