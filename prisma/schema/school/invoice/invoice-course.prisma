// ============================================
// 到校服務模組 - 發票課程關聯
// ============================================

/// 發票-課程關聯表（多對多）
model SchoolInvoiceCourse {
  id String @id @default(cuid())

  invoiceId String
  invoice   SchoolInvoice @relation(fields: [invoiceId], references: [id], onDelete: Cascade)

  courseId String
  course   SchoolCourse @relation(fields: [courseId], references: [id], onDelete: Cascade)

  // 此課程在發票中的金額（可能只計部分課堂）
  amount Decimal @db.Decimal(10, 2)

  // 備註
  remarks String? @db.Text

  // 系統欄位
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([invoiceId, courseId]) // 同一發票不可重複加入同一課程
  @@index([invoiceId])
  @@index([courseId])
  @@map("school_invoice_courses")
}
